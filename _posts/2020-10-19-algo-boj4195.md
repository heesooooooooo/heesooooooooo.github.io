---
layout: post
cover: 'assets/images/cover4.jpg'
navigation: True
title: "[JAVA/λ°±μ¤€] 4195λ²: μΉκµ¬ λ„¤νΈμ›ν¬"
date: 2020-10-19 00:00:00
tags: boj
subclass: 'post tag-boj'
logo: 'assets/images/ghost.png'
author: heesoo
categories: boj
---
## <span style="color:navy">π‘€ λ¬Έμ </span>
<https://www.acmicpc.net/problem/4195>

## <span style="color:navy">π‘ λ„μ „</span>

### 1. μ„¤κ³„
1. ν•΄μ‹λ§µμ„ μ΄μ©ν•μ—¬ κ° μ΄λ¦„μ— μΈλ±μ¤λ¥Ό λ¶€μ—¬ν•λ‹¤.
2. Union-Find μ•κ³ λ¦¬μ¦μ„ μ΄μ©ν•΄ κ° μ΄λ¦„λ³„ λ¶€λ¨λ¥Ό μ €μ¥ν•λ‹¤.
3. λ¶€λ¨κ°„μ κ±°λ¦¬λ¥Ό cnt[]μ— μ €μ¥ν•λ‹¤.

### 2. κµ¬ν„ (μ„±κ³µ μ½”λ“)
{% highlight java linenos %}
import java.util.*;
import java.io.*;
/**
 * @author HEESOO
 *
 */
class Main {
	static int[] parent;
	static int[] cnt;
	public static void main(String[] args) throws IOException {
		BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
		 int t=Integer.parseInt(br.readLine());
		 for(int i=0;i<t;i++) {
			 int f=Integer.parseInt(br.readLine());
			 HashMap<String, Integer> map=new HashMap<>();
			 parent=new int[f*2]; // λ¶€λ¨ μ—°κ²° λ°°μ—΄
			 cnt=new int[f*2]; // λ¶€λ¨κ°„μ κ±°λ¦¬ μ €μ¥ λ°°μ—΄
			 Arrays.fill(cnt, 1); 
			 
			 int idx=0;
			 for(int j=0;j<f;j++) {
				 String[] str=br.readLine().split(" ");
				 // μ²μ λ“¤μ–΄μ¨ μ΄λ¦„μ΄λ©΄ ν•΄μ‹λ§µμ— put
				 if(!map.containsKey(str[0])) {
					 parent[idx]=idx;
					 map.put(str[0], idx++);
				 }
				 if(!map.containsKey(str[1])) {
					 parent[idx]=idx;
					 map.put(str[1], idx++);
				 }
				 
				 // unionμΌλ΅ μ—°κ²°
				 union(map.get(str[0]), map.get(str[1]));
				 // findν•λ©° μ €μ¥λ cntκ°’μ„ μ¶λ ¥
				 System.out.println(cnt[find(map.get(str[1]))]);
			 }
		 }
		 
	}
	

	 public static void union(int a, int b) {
		 // μµμƒμ„ λ¶€λ¨ μ°ΎκΈ°
		 int parentA=find(a);
		 int parentB=find(b);
		 // κ°™λ‹¤λ©΄ μ΄λ―Έ μ—°κ²°λμ–΄ μλ” λ…Έλ“
		 if(parentA==parentB) return; 
		 
		 parent[parentB]=parentA; // aλ°‘μ— bκ°€ λ“¤μ–΄κ°
		 cnt[parentA]+=cnt[parentB]; // bκ°€ μ¶”κ°€λμΌλ―€λ΅ cnt[a] κ°±μ‹ 
	 }
	 
	 public static int find(int a) {
		 if(parent[a]==a) return a; // λ” μ΄μƒ λ¶€λ¨κ°€ μ—†μ
		 return parent[a]=find(parent[a]); // λ¶€λ¨λ΅ μ΄λ™
	 }
	 
}

{% endhighlight %}

### 3. κ²°κ³Ό
![μ‹¤ν–‰κ²°κ³Ό](./assets/images/201019_1.PNG)
π¤ μ„±κ³µ π¤  

### 4. μ„¤λ…
1. **<span style="color:navy">ν•΄μ‹λ§µμ„ μ΄μ©ν•μ—¬ μ΄λ¦„μ— μΈλ±μ¤λ¥Ό λ¶€μ—¬ν•λ‹¤</span>**  
- parent[]μ—λ” λ¶€λ¨μ μΈλ±μ¤λ¥Ό μ €μ¥ν•λ” κ²ƒμ΄ νΈν•λ―€λ΅ μ΄λ¦„λ³„ μΈλ±μ¤λ¥Ό λ¶€μ—¬ν•΄μ•Ό ν•λ‹¤.
- ν•΄μ‹λ§µμ„ μ΄μ©ν•μ—¬ λ“¤μ–΄μ¤λ” μμ„μ— λ”°λΌ μΈλ±μ¤λ¥Ό λ¶€μ—¬ν•λ‹¤.
- key: μ΄λ¦„, value: μΈλ±μ¤
- λ‹Ήμ—°ν μ΄μ „μ— λ“±λ΅ν• μ΄λ¦„μ΄ inputμΌλ΅ λ“¤μ–΄μ¤λ©΄ ν¨μ¤ν•λ‹¤.
- μƒ μ΄λ¦„μ΄ λ“¤μ–΄μ™”μΌλ―€λ΅ parent[idx]=idxλ΅ μ΄κΈ°ν™”ν•λ‹¤(λ‚΄ λ¶€λ¨λ” λ‚ μμ‹ ).

2. **<span style="color:navy">Union-Find μ•κ³ λ¦¬μ¦μ„ μ΄μ©ν•λ‹¤</span>** 
- union: νλΌλ―Έν„° a, bλ¥Ό μ—°κ²°ν•λ” μ‘μ—…μ΄λ‹¤.
- λ‘μ μµμƒμ„ λ¶€λ¨λ¥Ό μ°Ύμ•„ parentA, parentBμ— μ €μ¥ν•λ‹¤.
- λ‘ κ°’μ΄ κ°™λ‹¤λ©΄ a, bλ” μ΄λ―Έ μ—°κ²°λμ–΄ μμΌλ―€λ΅ μΆ…λ£ν•λ‹¤.
- μ•„λ‹λΌλ©΄, a λ°‘μ— bκ°€ λ“¤μ–΄κ°€λ„λ΅ ν•λ‹¤.
- λ‘ νλΌλ―Έν„°κ°€ μ—°κ²°λμ—μΌλ―€λ΅ cnt[parentA]μ— parentBμ κ°μλ“¤μ„ μ €μ¥ν•λ‹¤.
- find: νλΌλ―Έν„° aμ μµμƒμ„ λ¶€λ¨λ¥Ό μ°Ύλ” λ©”μ†λ“μ΄λ‹¤.
- parent[a]=aλΌλ©΄ λ” μ΄μƒ λ¶€λ¨κ°€ μ—†μΌλ―€λ΅ μΆ…λ£ν•λ‹¤.
- μ•„λ‹ κ²½μ° parent[a]μ λ¶€λ¨λ¥Ό μ°Ύλ”λ‹¤.

## <span style="color:navy">π‘ ν•΄κ²° μ™„λ£!</span>