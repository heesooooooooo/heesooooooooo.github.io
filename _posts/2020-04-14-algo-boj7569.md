---
layout: post
cover: 'assets/images/cover4.jpg'
navigation: True
title: "[JAVA/λ°±μ¤€] DFSμ™€ BFS: ν† λ§ν† "
date: 2020-04-14 00:00:00
tags: boj
subclass: 'post tag-boj'
logo: 'assets/images/ghost.png'
author: heesoo
categories: boj
---
## <span style="color:navy">π‘€ λ¬Έμ </span>
<https://www.acmicpc.net/problem/7569>

## <span style="color:navy">π‘ λ„μ „</span>

### 1. μ„¤κ³„
1. ν† λ§ν† κ°€ μµλ” μµμ† μΌμλ¥Ό κµ¬ν•΄μ•Όν•λ―€λ΅ BFSλ¥Ό μ‚¬μ©ν•λ‹¤.
2. μµμ€ ν† λ§ν† μ μ„μΉλ¥Ό νμ— λ„£μ€ ν›„, ν•λ‚μ”© λΉΌμ„ λ μµμ€ ν† λ§ν† λ΅ μ„μ•„λμƒν•μΆμ° μ΄λ™(νμ— μ‚½μ…)ν•λ‹¤.

### 2. κµ¬ν„ (μ„±κ³µ μ½”λ“)
{% highlight java linenos %}
import java.util.LinkedList;
import java.util.Queue;
import java.util.Scanner;

/**
 * @author HEESOO
 *
 */
class Node{
	int x;
	int y;
	int z;
	public Node(int x, int y, int z) {
		this.x=x;
		this.y=y;
		this.z=z;
	}
}
public class Main {
	static int m,n,h,zero;
	static int[][][] map;
	static boolean[][][] visit;
	public static int bfs(Queue<Node> q) {
		int[] dotX= {0,0,0,0,-1,1};
		int[] dotY= {0,0,1,-1,0,0};
		int[] dotZ= {1,-1,0,0,0,0};
		int cnt=0;
		while(!q.isEmpty()) {
			Node node=q.poll();
			cnt=map[node.x][node.y][node.z]+1;
			for(int i=0;i<6;i++) {
				int xx=node.x+dotX[i];
				int yy=node.y+dotY[i];
				int zz=node.z+dotZ[i];
				if(0<=xx&&xx<n&&0<=yy&&yy<m&&0<=zz&&zz<h) {
					if(map[xx][yy][zz]!=-1&&!visit[xx][yy][zz]) {
						visit[xx][yy][zz]=true;
						map[xx][yy][zz]=cnt;
						zero--;
						q.offer(new Node(xx,yy,zz));
					}
					
				}
			}
		}
		if(zero!=0) return -1;
		else return cnt-2;
	}
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Scanner scan = new Scanner(System.in);
		m=scan.nextInt();
		n=scan.nextInt();
		h=scan.nextInt();
		map=new int[n][m][h];
		visit=new boolean[n][m][h];
		Queue<Node> q=new LinkedList<>();
		zero=0;
		for(int i=0;i<h;i++) {
			for(int j=0;j<n;j++) {
				for(int k=0;k<m;k++) {
					map[j][k][i]=scan.nextInt();
					if(map[j][k][i]==0) zero++;
					else if(map[j][k][i]==1) {
						q.offer(new Node(j, k, i));
						visit[j][k][i]=true;
					}
				}
			}
		}
		
		System.out.println(bfs(q));
	}
}

 {% endhighlight %}

### 3. κ²°κ³Ό
![μ‹¤ν–‰κ²°κ³Ό](./assets/images/200414_2.PNG)
π¤ μ„±κ³µ π¤ 

### 4. μ„¤λ…
1. **<span style="color:navy">BFSλ¥Ό κµ¬ν„ν•λ‹¤</span>**
- μµμ† μΌμλ¥Ό κµ¬ν•΄μ•Όν•λ―€λ΅ BFSλ¥Ό μ‚¬μ©ν•λ‹¤.
- νμ— μµμ€ ν† λ§ν† μ μ„μΉλ¥Ό ν΄λμ¤ Nodeλ¥Ό ν†µν•΄ λ¨λ‘ μ €μ¥ν•λ‹¤. ν•λ‚λ§ μ €μ¥ν•κ³  whileλ¬Έμ„ μ‹μ‘ν•μ§€ μ•λ„λ΅ ν•λ‹¤. μµμ€ ν† λ§ν† κ°€ μ—¬λ¬ κ°μΌ κ²½μ° μ¤‘κ°„ μ§€μ μ—μ„ λ§λ‚  μ μμΌλ―€λ΅ κ³„μ† ν™•μΈν•΄μ•Όν•κΈ° λ•λ¬Έμ΄λ‹¤.
- zero λ³€μλ¥Ό λ‘μ–΄ λ μµμ€ ν† λ§ν† κ°€ λ‡ κ°μΈμ§€ ν™•μΈν•λ‹¤. ν† λ§ν† κ°€ λ¨λ‘ μµμ§€ λ»ν•  κ²½μ°λ¥Ό ν™•μΈν•κΈ° μ„ν•¨μ΄λ‹¤.
![μ‹¤ν–‰κ²°κ³Ό](./assets/images/200414_3.png)
- ν„μ¬ λ…Έλ“μ—μ„ μ›€μ§μΌ μ μλ” λ°©ν–¥μ€ μ΄ μ—¬μ„―κ°μ΄λ‹¤. 6κ°€μ§€ κ²½μ°λ¥Ό ν™•μΈν•μ—¬ ν† λ§ν† μ— μν–¥μ„ μ¤„ μ μλ”μ§€ ν™•μΈν•λ‹¤. λ μµμ€ ν† λ§ν† λ¥Ό μµκ² λ§λ“¤ μ μλ‹¤λ©΄ κ·Έ λ…Έλ“λ¥Ό νμ— μ €μ¥ν•κ³ , visitκ°’μ„ trueλ΅ λ°”κΎΈκ³ , zero--ν•μ—¬ λ μµμ€ ν† λ§ν† λ¥Ό ν•λ‚ μ¤„μ΄κ³ , mapμ—λ” κ·Έ ν† λ§ν† κ°€ μµκΈ°μ„ν•΄ κ±Έλ¦¬λ” μΌμλ¥Ό μ €μ¥ν•λ‹¤.
- whileλ¬Έμ„ λ‹¤ λλ©΄ BFSνƒμƒ‰μ΄ λλ‚ κ²ƒμ΄λ―€λ΅, zeroκ°’μ„ ν™•μΈν•μ—¬ λ μµμ€ ν† λ§ν† κ°€ μλ”μ§€ ν™•μΈν•λ‹¤. zero!=0μ΄λ©΄ ν† λ§ν† λ¥Ό λ¨λ‘ μµν μ μ—†μΌλ―€λ΅ -1μ„ λ¦¬ν„΄ν•κ³ , zero==0μ΄λΌλ©΄ λ¨λ‘ μµμ€ κ²ƒμ΄λ―€λ΅ cnt-2λ¥Ό λ¦¬ν„΄ν•λ‹¤(mapμ—μ„ 0λ¶€ν„° μ‹μ‘ν•΄μ•Όν•λ”λ° 1λ¶€ν„° ν–μΌλ―€λ΅ -1, whileλ¬Έμ—μ„ cntμ €μ¥μ„ μ„ν•΄ cnt+1ν–μΌλ―€λ΅ -1). 

## <span style="color:navy">π‘ ν•΄κ²° μ™„λ£!</span>