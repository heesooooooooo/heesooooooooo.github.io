---
layout: post
cover: 'assets/images/cover4.jpg'
navigation: True
title: "[JAVA/ë°±ì¤€] 11505ë²ˆ: êµ¬ê°„ ê³± êµ¬í•˜ê¸°"
date: 2020-10-23 00:00:00
tags: boj
subclass: 'post tag-boj'
logo: 'assets/images/ghost.png'
author: heesoo
categories: boj
---
## <span style="color:navy">ğŸ‘€ ë¬¸ì œ</span>
<https://www.acmicpc.net/problem/11505>

## <span style="color:navy">ğŸ‘Š ë„ì „</span>

### 1. ì„¤ê³„
1. ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ êµ¬ê°„ ê³±ì„ êµ¬í•œë‹¤.
2. êµ¬ê°„ í•© êµ¬í•˜ê¸°(<https://iamheesoo.github.io/blog/algo-boj2042>)ì™€ ì „ì²´ì ì¸ í‹€ì€ ê°™ìœ¼ë‚˜ updateì‹œ ë¦¬í”„ë…¸íŠ¸ì—ì„œ ë£¨íŠ¸ë¡œ ì˜¬ë¼ê°€ë©° ê°±ì‹ í•œë‹¤.

### 2. êµ¬í˜„ (ì„±ê³µ ì½”ë“œ)
{% highlight java linenos %}
import java.util.*;
import java.io.*;
/**
 * @author HEESOO
 *
 */
class Main {
	static int[] input;
	static long[] tree;
	static int MOD;
	public static void main(String[] args) throws IOException {
		BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st=new StringTokenizer(br.readLine());
		int n=Integer.parseInt(st.nextToken());
		int m=Integer.parseInt(st.nextToken());
		int k=Integer.parseInt(st.nextToken());
		
		input=new int[n+1];
		tree=new long[n*4];	
		MOD=1000000007;
		for(int i=1;i<=n;i++) {
			st=new StringTokenizer(br.readLine());
			input[i]=Integer.parseInt(st.nextToken());
		}
		
		init(1, 1, n); // íŠ¸ë¦¬ ìƒì„±
		
		for(int i=0;i<m+k;i++) {
			st=new StringTokenizer(br.readLine());
			int a=Integer.parseInt(st.nextToken());
			int b=Integer.parseInt(st.nextToken());
			int c=Integer.parseInt(st.nextToken());
			if(a==1) {
				input[b]=c;
				update(1, 1, n, b,  c);
			}
			else {
				System.out.println(sum(1, 1, n, b, c));
			}
		}
	}
	
	public static long init(int node, int left, int right) {
		if(left==right) return tree[node]=input[left];		
		
		int mid=(left+right)/2;
		return tree[node]=init(node*2, left, mid)*init(node*2+1, mid+1, right)%MOD;
	}
	
	public static long update(int node, int left, int right, int idx, int c) {
		// ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ ë§ì…ˆê³¼ ë‹¬ë¦¬ ë¦¬í”„ë…¸ë“œì—ì„œ ë£¨íŠ¸ë¡œ ì˜¬ë¼ê°€ë©°(ì¬ê·€) ì—…ë°ì´íŠ¸
		if(idx<left || idx>right) return tree[node]; // ê°±ì‹ í•  ê°’ì´ í¬í•¨ëœ ë²”ìœ„ê°€ ì•„ë‹ ê²½ìš°	
		if(left==right) return tree[node]=c; // ë¦¬í”„ë…¸ë“œ
		
		// ìì‹ì˜ ê°’ì„ ì´ìš©í•´ ê°±ì‹ 
		int mid=(left+right)/2;
		return tree[node]=update(node*2, left, mid, idx, c)*update(node*2+1, mid+1, right, idx, c)%MOD;
	}
	
	public static long sum(int node, int left, int right, int rangeA, int rangeB) {
		if(right<rangeA || left>rangeB) return 1; // ë²”ìœ„ ì´ˆê³¼
		if(rangeA<=left && right<=rangeB) return tree[node]; // ë²”ìœ„ ì•ˆì— ì†í•¨
		
		// ë²”ìœ„ì— ê±¸ì³ ìˆëŠ” ê²½ìš° ìì‹ìœ¼ë¡œ ë‚´ë ¤ê°€ë©° ë²”ìœ„ ì¢íˆê¸°
		int mid=(left+right)/2;
		return sum(node*2, left, mid, rangeA, rangeB)*sum(node*2+1, mid+1, right, rangeA, rangeB)%MOD;
		
	}
	
}


{% endhighlight %}

### 3. ê²°ê³¼
![ì‹¤í–‰ê²°ê³¼](./assets/images/201023_1.PNG)
ğŸ¤Ÿ ì„±ê³µ ğŸ¤Ÿ  
update ì‹œ ë£¨íŠ¸ì—ì„œ ë¦¬í”„ë…¸ë“œë¡œ ë‚´ë ¤ê°€ëŠ” ì½”ë“œë¡œ ì‘ì„±í•˜ì˜€ìœ¼ë‚˜ ì‹¤íŒ¨í–ˆë‹¤.

### 4. ì„¤ëª…
1. **<span style="color:navy">update</span>**  
- Nê°œì˜ ìˆ«ì ì¤‘ í•˜ë‚˜ê°€ 0ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ë©´ ê°±ì‹ ì´ ì•ˆë˜ê¸° ë•Œë¬¸ì— ë¦¬í”„ ë…¸ë“œë¶€í„° ê°±ì‹ ì„ í•˜ë©° ë£¨íŠ¸ë¡œ ì˜¬ë¼ê°€ì•¼ í•œë‹¤.
- ì¬ê·€ë¥¼ ì´ìš©í•˜ì—¬ ë¦¬í”„ë…¸ë“œê¹Œì§€ ë‚´ë ¤ê°„ í›„, ë¦¬í”„ë…¸ë“œë¥¼ ê°±ì‹  í›„ ë¦¬í„´ ê°’ì„ ê°€ì§€ê³  ë‹¤ì‹œ ì˜¬ë¼ê°€ë©° íŠ¸ë¦¬ ë…¸ë“œë¥¼ ê°±ì‹ í•œë‹¤.


## <span style="color:navy">ğŸ‘ í•´ê²° ì™„ë£Œ!</span>
- [BOJ] ë°±ì¤€ 11505ë²ˆ : êµ¬ê°„ ê³± êµ¬í•˜ê¸° (JAVA) <https://steady-coding.tistory.com/125>