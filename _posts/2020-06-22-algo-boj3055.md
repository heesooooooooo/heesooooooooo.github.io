---
layout: post
cover: 'assets/images/cover4.jpg'
navigation: True
title: "[JAVA/λ°±μ¤€] SW μ—­λ‰ ν…μ¤νΈ μ¤€λΉ„-κΈ°μ΄ | κ·Έλν”„μ™€ BFS: νƒμ¶"
date: 2020-06-22 00:00:00
tags: boj
subclass: 'post tag-boj'
logo: 'assets/images/ghost.png'
author: heesoo
categories: boj
---
## <span style="color:navy">π‘€ λ¬Έμ </span>
<https://www.acmicpc.net/problem/3055>

## <span style="color:navy">π‘ λ„μ „</span>

### 1. μ„¤κ³„
1. Sμ—μ„ DκΉμ§€μ μµλ‹¨ κ±°λ¦¬λ¥Ό κµ¬ν•΄μ•Όν•λ―€λ΅ BFSλ¥Ό μ‚¬μ©ν•λ‹¤.
2. κ³ μ΄λ„μΉκ°€ μ΄λ™ν•λ” ν ν•λ‚, λ¬Όμ λ²”λμ„ μ²΄ν¬ν•λ” ν ν•λ‚λ¥Ό κ°κ° λ‘”λ‹¤.
3. 1μ΄λ§λ‹¤ λ¬Ό λ²”λμ„ μ²΄ν¬ν•κ³ , ν„μ¬ νμ— μλ” λ…Έλ“λ“¤λ΅ λ°©λ¬Έ κ°€λ¥ν• κ³³λ“¤μ„ μ²΄ν¬ν•λ‹¤.
4. Dμ— λ„μ°©ν•λ©΄ ν„μ¬ μ‹κ°„μ„ λ¦¬ν„΄ν•λ‹¤.

### 2. κµ¬ν„ (μ„±κ³µ μ½”λ“)
{% highlight java linenos %}
import java.util.LinkedList;
import java.util.Queue;
import java.util.Scanner;

/**
 * @author HEESOO
 *
 */
public class Main {
	static int r, c;
	static Character[][] map;
	static boolean[][] visit;
	static Queue<Dot> water, q;
	static int[] dotX= {0,0,-1,1};
	static int[] dotY= {1,-1,0,0};
	
	public static int bfs() {
		int qSize=0;
		int time=0;
		while(true) {
			if(qSize==0) { // 1μ΄μ•μ— μ²΄ν¬ν•΄μ•Όν•  λ…Έλ“ λ°©λ¬Έ μ™„λ£ν–μΌλ―€λ΅ μƒ λ…Έλ“λ“¤λ΅ κ°±μ‹  ν•„μ”
				qSize=q.size();
				checkWater(); // λ²”λ μ²΄ν¬
				time++; // μ‹κ°„ 1μ΄ μ§€λ‚¬μΌλ―€λ΅
			}
			qSize--;
			if(qSize==-1) {// λ°©λ¬Έν•΄μ•Όν•  νκ°€ μ—†λ‹¤λ©΄
				return -1;
			}
			Dot d=q.poll();
			for(int i=0;i<4;i++) {
				int xx=d.x+dotX[i];
				int yy=d.y+dotY[i];
				if(0>xx||xx>=r || 0>yy||yy>=c) continue;
				if(visit[xx][yy]) continue;
				if(map[xx][yy]=='D') return time;
				if(map[xx][yy]=='.') {
					visit[xx][yy]=true;
					q.offer(new Dot(xx, yy));
				}
			}
		}
		
	}
	public static void checkWater() {
		int waterSize=water.size();
		while(waterSize>0) { // ν„μ¬ μ‹κ°„μ— λ¬Όμ΄ μλ” μΉΈλ“¤μ„ μ²΄ν¬
			waterSize--;
			Dot w=water.poll();
			for(int i=0;i<4;i++) {
				int xx=w.x+dotX[i];
				int yy=w.y+dotY[i];
				if(0>xx||xx>=r || 0>yy||yy>=c) continue;
				if(map[xx][yy]=='.') { // λΉ κ³³μ€ λ²”λμ‹ν‚¤κΈ°
					map[xx][yy]='*';
					water.offer(new Dot(xx, yy));
				}
			}
		}
	}
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Scanner scan=new Scanner(System.in);
		r=scan.nextInt();
		c=scan.nextInt();
		map=new Character[r][c]; 
		visit=new boolean[r][c];
		water=new LinkedList<>();
		q=new LinkedList<>();
		
		for(int i=0;i<r;i++) {
			String str=scan.next();
			for(int j=0;j<c;j++) {
				map[i][j]=str.charAt(j);
				if(map[i][j]=='S') { // μ‹μ‘μ  μ²΄ν¬
					q.offer(new Dot(i, j));
					visit[i][j]=true;
				}
				else if(map[i][j]=='*') // λ¬Όμ΄ μλ” κ³³ μ²΄ν¬
					water.offer(new Dot(i, j));
			}
		}
		int answer=bfs();
		if(answer==-1)
			System.out.println("KAKTUS");
		else System.out.println(answer);
	}
}
class Dot{
	int x;
	int y;
	public Dot(int x, int y) {
		this.x=x;
		this.y=y;
	}
}
{% endhighlight %}

### 3. κ²°κ³Ό
![μ‹¤ν–‰κ²°κ³Ό](./assets/images/200622_1.PNG)
π¤ μ„±κ³µ π¤  

### 4. μ„¤λ…
1. **<span style="color:navy">BFSλ¥Ό μ΄μ©ν•λ‹¤</span>**
- Sμ—μ„ DκΉμ§€μ μµλ‹¨κ²½λ΅(μµμ† μ‹κ°„)μ„ κµ¬ν•΄μ•Ό ν•λ―€λ΅ BFSλ¥Ό μ΄μ©ν•λ‹¤.
- μ΄λ• μ²΄ν¬ν•΄μ•Όν•  κ²ƒμ΄ κ³ μ΄λ„μΉμ μ„μΉ(q)μ™€ λ¬Όμ λ²”λ(water)μ΄λ―€λ΅ λ‘ κ°μ νκ°€ ν•„μ”ν•λ‹¤.

2. **<span style="color:navy">1μ΄λ§λ‹¤ λ¬Όμ μƒνƒμ™€ κ³ μ΄λ„μΉκ°€ λ°©λ¬Έν•  μ μλ” λ…Έλ“λ“¤μ„ κ³„μ‚°ν•λ‹¤</span>**
- ν„μ¬ μ‹κ°„μ΄ tμΌ λ•μ ν μ‚¬μ΄μ¦λ¥Ό qSizeμ— μ €μ¥ν• ν›„, λ¨λ“  λ…Έλ“λ“¤μ λ°©λ¬Έμ΄ λλ‚λ©΄ 1μ΄κ°€ μ§€λ‚¬λ‹¤κ³  μΈμ‹ν•λ‹¤. qSizeλ¥Ό μ €μ¥ν•΄λ‘¬μ•Ό ν•λ” μ΄μ λ”, μ¤‘κ°„μ— κ³„μ† νμ— κ°’μ΄ μ‚½μ…λλ―€λ΅ ν μ‚¬μ΄μ¦κ°€ κ°±μ‹ λκΈ° λ•λ¬Έμ΄λ‹¤. 
- qSize==0μ΄λΌλ©΄ tμ΄ λ™μ• λ°©λ¬Έν•΄μ•Όν•  κ³³λ“¤μ μ²΄ν¬κ°€ λλ‚ κ²ƒμ΄λ―€λ΅, λ‹¤μ‹ qSizeκ°’μ„ λ°›μ•„μ™€ λ°©λ¬Έν•΄μ•Όν•  λ…Έλ“λ“¤μ κ°μλ¥Ό μ €μ¥ν•κ³ , μ‹κ°„μ΄ μ§€λ‚¬μμ„ λ‚νƒ€λ‚΄κΈ° μ„ν•΄ time++ν•λ‹¤. λ§μ°¬κ°€μ§€λ΅ μ‹κ°„μ΄ 1μ΄ μ§€λ‚¬μΌλ―€λ΅ checkWater()λ΅ λ¬Όμ λ²”λλ„ μ²΄ν¬ν•΄μ•Όν•λ‹¤.
- qSize==-1μ€ qSizeμ— μƒ κ°’μ„ κ°±μ‹ ν•μ€μΌλ‚ 0μ΄ λ“¤μ–΄μ¤κ³ , qSize--λ΅ -1μ΄ λ κ²½μ°μ΄λ‹¤. μ΄ λ»μ€ νμ— λ” μ΄μƒ λ°©λ¬Έν•΄μ•Όν•  λ…Έλ“κ°€ μ—†λ‹¤λ” λ»μ΄κ³ , κ²°κµ­ λ§μ§€λ§‰ λ…Έλ“λ¥Ό λ°©λ¬Έν•  λ• κΉμ§€ Dλ¥Ό μ°Ύμ§€ λ»ν–μΌλ―€λ΅ -1μ„ λ¦¬ν„΄ν•μ—¬ mainμ—μ„ 'KAKTUS'λ¥Ό μ¶λ ¥ν•κ² ν•λ‹¤.
- checkWater()μ€ tμ΄μΌ λ• λ¬Όμ΄ μ°° μ μλ” κ³³μ„ μ²΄ν¬ν•λ” κ²ƒμ΄λ‹¤. waterμ— ν„μ¬ λ¬Όμ΄ λ“¤μ–΄μλ” λ…Έλ“λ“¤μ„ μ €μ¥ν•΄λ‘μ—μΌλ―€λ΅ κ·Έ κ³³μ—μ„ μƒν•μΆμ°λ΅ λΉ κ³³μ— λ¬Όμ„ μ±„μ΄λ‹¤.

## <span style="color:navy">π‘ ν•΄κ²° μ™„λ£!</span>

### μ°Έκ³ 
- λ°±μ¤€ 3055λ² νƒμ¶ :: λ§μ΄κµ¬λ―Έ <https://mygumi.tistory.com/232>
